{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AppComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"div\", 4)(2, \"div\", 24)(3, \"h5\", 25);\n    i0.ɵɵtext(4, \"Informaci\\u00F3n del Inmueble\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 6)(6, \"div\", 26)(7, \"label\");\n    i0.ɵɵtext(8, \"Nombre:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 26)(12, \"label\");\n    i0.ɵɵtext(13, \"Descripci\\u00F3n:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 26)(17, \"label\");\n    i0.ɵɵtext(18, \"Precio:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 26)(22, \"label\");\n    i0.ɵɵtext(23, \"Ubicaci\\u00F3n:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"p\");\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"div\", 26)(27, \"label\");\n    i0.ɵɵtext(28, \"Metraje:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"p\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\", 26)(32, \"label\");\n    i0.ɵɵtext(33, \"Tipo de Venta:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"p\");\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"div\", 26)(37, \"label\");\n    i0.ɵɵtext(38, \"Tipo de Inmueble:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"p\");\n    i0.ɵɵtext(40);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(41, \"img\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 28)(43, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_60_Template_button_click_43_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const image_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteImg(image_r1.id));\n    });\n    i0.ɵɵtext(44, \"Eliminar\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const image_r1 = ctx.$implicit;\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(image_r1.nombre);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(image_r1.descripcion);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(image_r1.precio);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(image_r1.ubicacion);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(image_r1.metraje);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(image_r1.tipo_venta);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(image_r1.tipo_inmueble);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:3000/\", image_r1.imagen, \"\", i0.ɵɵsanitizeUrl);\n  }\n}\nexport class AppComponent {\n  constructor(http) {\n    this.http = http;\n    this.title = 'frontend';\n    this.images = '';\n    this.imgURL = 'assets/noimage.png';\n    this.imagenes = [];\n    this.nombre = '';\n    this.descripcion = '';\n    this.precio = 0;\n    this.ubicacion = '';\n    this.metraje = 0;\n    this.tipo_venta = '';\n    this.tipo_inmueble = '';\n  }\n  ngOnInit() {\n    this.mostrarImg();\n  }\n  selectImage(event) {\n    if (event.target.files.length > 0) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = event => {\n        this.imgURL = event.target.result;\n      };\n      this.images = file;\n    }\n    function selectImage() {\n      throw new Error('Function not implemented.');\n    }\n  }\n  onSubmit() {\n    const formData = new FormData();\n    formData.append('nombre', this.nombre);\n    formData.append('descripcion', this.descripcion);\n    formData.append('precio', this.precio.toString());\n    formData.append('ubicacion', this.ubicacion);\n    formData.append('metraje', this.metraje.toString());\n    formData.append('tipo_venta', this.tipo_venta);\n    formData.append('tipo_inmueble', this.tipo_inmueble);\n    formData.append('file', this.images);\n    this.http.post('http://localhost:3000/file', formData).subscribe(res => console.log(res, Swal.fire({\n      icon: 'success',\n      title: 'Inmueble cargado!!',\n      text: 'El Inmueble se subio correctamente!'\n    }).then(result => {\n      if (result) {\n        location.reload();\n      }\n    })), err => Swal.fire({\n      icon: 'error',\n      title: 'Oops...',\n      text: 'Parece que no subio nada!!'\n    }));\n    this.imgURL = '/assets/noimage.png';\n  }\n  mostrarImg() {\n    this.http.get('http://localhost:3000/imagen').subscribe(res => {\n      this.imagenes = res;\n      const reader = new FileReader();\n      reader.onload = this.imagenes;\n      console.log(this.imagenes);\n    });\n  }\n  deleteImg(id) {\n    Swal.fire({\n      icon: 'info',\n      title: '¿Desea eliminar el inmueble?',\n      showCancelButton: true,\n      confirmButtonText: `Eliminar`\n    }).then(result => {\n      if (result.isConfirmed) {\n        this.http.delete(`http://localhost:3000/delete/${id}`).subscribe(res => {\n          console.log(res);\n          location.reload();\n        });\n      }\n    });\n  }\n  static #_ = this.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 61,\n    vars: 9,\n    consts: [[1, \"text-center\"], [1, \"container\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"card\"], [1, \"card-img-top\", 3, \"src\"], [1, \"card-body\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"nombre\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"descripcion\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"precio\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"ubicacion\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"metraje\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"tipo_venta\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"venta\"], [\"value\", \"alquiler\"], [\"name\", \"tipo_inmueble\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"casa\"], [\"value\", \"departamento\"], [\"type\", \"file\", \"name\", \"image\", \"accept\", \"image/*\", 1, \"form-control\", 3, \"change\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-primary\"], [\"class\", \"col-md-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\"], [1, \"card-header\", \"bg-dark\", \"text-white\"], [1, \"card-title\"], [1, \"info-group\"], [\"alt\", \"Imagen del Inmueble\", 1, \"img-fluid\", 3, \"src\"], [1, \"card-footer\"], [\"id\", \"*image.id*\", 1, \"btn\", \"btn-outline-danger\", \"btn-block\", 3, \"click\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\", 0);\n        i0.ɵɵtext(1, \"Crear Inmueble\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"hr\");\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4);\n        i0.ɵɵelement(7, \"img\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 3)(9, \"div\", 4)(10, \"div\", 6)(11, \"form\", 7);\n        i0.ɵɵlistener(\"ngSubmit\", function AppComponent_Template_form_ngSubmit_11_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(12, \"div\", 8)(13, \"label\");\n        i0.ɵɵtext(14, \"Nombre:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_15_listener($event) {\n          return ctx.nombre = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 8)(17, \"label\");\n        i0.ɵɵtext(18, \"Descripci\\u00F3n:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"textarea\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_textarea_ngModelChange_19_listener($event) {\n          return ctx.descripcion = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 8)(21, \"label\");\n        i0.ɵɵtext(22, \"Precio:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_23_listener($event) {\n          return ctx.precio = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\", 8)(25, \"label\");\n        i0.ɵɵtext(26, \"Ubicaci\\u00F3n:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_27_listener($event) {\n          return ctx.ubicacion = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\", 8)(29, \"label\");\n        i0.ɵɵtext(30, \"Metraje:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_31_listener($event) {\n          return ctx.metraje = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(32, \"div\", 8)(33, \"label\");\n        i0.ɵɵtext(34, \"Tipo de venta:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"select\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_select_ngModelChange_35_listener($event) {\n          return ctx.tipo_venta = $event;\n        });\n        i0.ɵɵelementStart(36, \"option\", 15);\n        i0.ɵɵtext(37, \"Venta\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"option\", 16);\n        i0.ɵɵtext(39, \"Alquiler\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(40, \"div\", 8)(41, \"label\");\n        i0.ɵɵtext(42, \"Tipo de inmueble:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"select\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_select_ngModelChange_43_listener($event) {\n          return ctx.tipo_inmueble = $event;\n        });\n        i0.ɵɵelementStart(44, \"option\", 18);\n        i0.ɵɵtext(45, \"Casa\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"option\", 19);\n        i0.ɵɵtext(47, \"Departamento\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(48, \"div\", 8)(49, \"label\");\n        i0.ɵɵtext(50, \"Elija el inmueble a subir\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"input\", 20);\n        i0.ɵɵlistener(\"change\", function AppComponent_Template_input_change_51_listener($event) {\n          return ctx.selectImage($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(52, \"br\");\n        i0.ɵɵelementStart(53, \"button\", 21);\n        i0.ɵɵtext(54, \"Cargar\");\n        i0.ɵɵelementEnd()()()()()()()();\n        i0.ɵɵelement(55, \"hr\");\n        i0.ɵɵelementStart(56, \"h2\", 0);\n        i0.ɵɵtext(57, \"Lista de Inmuebles\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"div\", 1)(59, \"div\", 2);\n        i0.ɵɵtemplate(60, AppComponent_div_60_Template, 45, 8, \"div\", 22);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"src\", ctx.imgURL, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.nombre);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.descripcion);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.precio);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.ubicacion);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.metraje);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.tipo_venta);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.tipo_inmueble);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.imagenes);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n    styles: [\".card[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 20px;\\r\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.card-header[_ngcontent-%COMP%] {\\r\\n  padding: 10px 20px;\\r\\n}\\r\\n\\r\\n.card-body[_ngcontent-%COMP%] {\\r\\n  padding: 20px;\\r\\n}\\r\\n\\r\\n.info-group[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n.info-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.card-footer[_ngcontent-%COMP%] {\\r\\n  padding: 10px 20px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBbUI7RUFDbkIsd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmQge1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxufVxyXG5cclxuLmNhcmQtaGVhZGVyIHtcclxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbn1cclxuXHJcbi5jYXJkLWJvZHkge1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbn1cclxuXHJcbi5pbmZvLWdyb3VwIHtcclxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4uaW5mby1ncm91cCBsYWJlbCB7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi5jYXJkLWZvb3RlciB7XHJcbiAgcGFkZGluZzogMTBweCAyMHB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Swal","i0","AppComponent","constructor","http","ngOnInit","mostrarImg","selectImage","event","target","files","length","file","reader","FileReader","readAsDataURL","onload","imgURL","result","images","Error","onSubmit","formData","FormData","append","nombre","descripcion","precio","toString","ubicacion","metraje","tipo_venta","tipo_inmueble","post","subscribe","res","console","log","fire","icon","title","text","then","location","reload","err","get","imagenes","deleteImg","id","showCancelButton","confirmButtonText","isConfirmed","delete","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\ClaveYLlaveAngular\\frontend\\src\\app\\app.component.ts","C:\\Users\\HP\\Desktop\\ClaveYLlaveAngular\\frontend\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'frontend';\r\n  images = '';\r\n  imgURL ='assets/noimage.png';\r\n  imagenes:any = [];\r\n  nombre: string = '';\r\n  descripcion: string = '';\r\n  precio: number = 0;\r\n  ubicacion: string = '';\r\n  metraje: number = 0;\r\n  tipo_venta: string = '';\r\n  tipo_inmueble: string = '';\r\n\r\n  constructor(private http:HttpClient){}\r\n\r\n  ngOnInit():void {\r\n    this.mostrarImg();\r\n    }\r\n\r\n    selectImage(event:any) {\r\n      if (event.target.files.length > 0) {\r\n        const file = event.target.files[0];\r\n        const reader = new FileReader();\r\n         reader.readAsDataURL(file);\r\n         reader.onload = (event: any)=>{\r\n           this.imgURL = event.target.result;\r\n         }\r\n        this.images = file;\r\n      }\r\n\r\n\r\n\r\n      function selectImage() {\r\n        throw new Error('Function not implemented.');\r\n    }\r\n  }\r\n  onSubmit(){\r\n    const formData = new FormData();\r\n    formData.append('nombre', this.nombre);\r\n    formData.append('descripcion', this.descripcion);\r\n    formData.append('precio', this.precio.toString());\r\n    formData.append('ubicacion', this.ubicacion);\r\n    formData.append('metraje', this.metraje.toString());\r\n    formData.append('tipo_venta', this.tipo_venta);\r\n    formData.append('tipo_inmueble', this.tipo_inmueble);\r\n    formData.append('file',this.images);\r\n    this.http.post<any>('http://localhost:3000/file', formData).subscribe(\r\n      (res) => console.log(res,  Swal.fire({\r\n                icon: 'success',\r\n                title: 'Inmueble cargado!!',\r\n                text: 'El Inmueble se subio correctamente!'\r\n                }).then((result) => {\r\n                            if (result) {\r\n                                       location.reload();\r\n                          }\r\n               })\r\n         ),\r\n      (err) => Swal.fire({\r\n                      icon: 'error',\r\n                      title: 'Oops...',\r\n                      text: 'Parece que no subio nada!!'\r\n                    })\r\n    );\r\n   this.imgURL = '/assets/noimage.png';\r\n\r\n    }\r\n\r\n    mostrarImg(){\r\n      this.http.get<any>('http://localhost:3000/imagen').subscribe(res=>{\r\n       this.imagenes=res;\r\n       const reader = new FileReader();\r\n       reader.onload = this.imagenes;\r\n       console.log(this.imagenes);\r\n      });\r\n\r\n\r\n\r\n    }\r\n\r\n    deleteImg(id: any) {\r\n      Swal.fire({\r\n        icon: 'info',\r\n        title: '¿Desea eliminar el inmueble?',\r\n        showCancelButton: true,\r\n        confirmButtonText: `Eliminar`,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          this.http.delete<any>(`http://localhost:3000/delete/${id}`).subscribe(res => {\r\n            console.log(res);\r\n            location.reload();\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n  }\r\n\r\n","<h1 class=\"text-center\">Crear Inmueble</h1>\r\n<hr>\r\n<div class=\"container\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <div class=\"card\">\r\n        <img class=\"card-img-top\" [src]=\"imgURL\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <form (ngSubmit)=\"onSubmit()\">\r\n            <div class=\"form-group\">\r\n              <label>Nombre:</label>\r\n              <input class=\"form-control\" type=\"text\" name=\"nombre\" [(ngModel)]=\"nombre\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>Descripción:</label>\r\n              <textarea class=\"form-control\" name=\"descripcion\" [(ngModel)]=\"descripcion\"></textarea>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>Precio:</label>\r\n              <input class=\"form-control\" type=\"number\" name=\"precio\" [(ngModel)]=\"precio\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>Ubicación:</label>\r\n              <input class=\"form-control\" type=\"text\" name=\"ubicacion\" [(ngModel)]=\"ubicacion\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>Metraje:</label>\r\n              <input class=\"form-control\" type=\"number\" name=\"metraje\" [(ngModel)]=\"metraje\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>Tipo de venta:</label>\r\n              <select class=\"form-control\" name=\"tipo_venta\" [(ngModel)]=\"tipo_venta\">\r\n                <option value=\"venta\">Venta</option>\r\n                <option value=\"alquiler\">Alquiler</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>Tipo de inmueble:</label>\r\n              <select class=\"form-control\" name=\"tipo_inmueble\" [(ngModel)]=\"tipo_inmueble\">\r\n                <option value=\"casa\">Casa</option>\r\n                <option value=\"departamento\">Departamento</option>\r\n                <!-- Agrega más opciones si es necesario -->\r\n              </select>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>Elija el inmueble a subir</label>\r\n              <input class=\"form-control\" type=\"file\" name=\"image\" accept =\"image/*\" (change)=\"selectImage($event)\"><br>\r\n              <button class=\"btn btn-outline-primary\" type=\"submit\">Cargar</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<hr>\r\n\r\n<h2 class=\"text-center\">Lista de Inmuebles</h2>\r\n<div class=\"container\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-4\" *ngFor=\"let image of this.imagenes\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header bg-dark text-white\">\r\n          <h5 class=\"card-title\">Información del Inmueble</h5>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <div class=\"info-group\">\r\n            <label>Nombre:</label>\r\n            <p>{{image.nombre}}</p>\r\n          </div>\r\n          <div class=\"info-group\">\r\n            <label>Descripción:</label>\r\n            <p>{{image.descripcion}}</p>\r\n          </div>\r\n          <div class=\"info-group\">\r\n            <label>Precio:</label>\r\n            <p>{{image.precio}}</p>\r\n          </div>\r\n          <div class=\"info-group\">\r\n            <label>Ubicación:</label>\r\n            <p>{{image.ubicacion}}</p>\r\n          </div>\r\n          <div class=\"info-group\">\r\n            <label>Metraje:</label>\r\n            <p>{{image.metraje}}</p>\r\n          </div>\r\n          <div class=\"info-group\">\r\n            <label>Tipo de Venta:</label>\r\n            <p>{{image.tipo_venta}}</p>\r\n          </div>\r\n          <div class=\"info-group\">\r\n            <label>Tipo de Inmueble:</label>\r\n            <p>{{image.tipo_inmueble}}</p>\r\n          </div>\r\n          <img class=\"img-fluid\" src=\"http://localhost:3000/{{image.imagen}}\" alt=\"Imagen del Inmueble\">\r\n        </div>\r\n        <div class=\"card-footer\">\r\n          <button (click)=\"deleteImg(image.id)\" class=\"btn btn-outline-danger btn-block\" id=*image.id*>Eliminar</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}